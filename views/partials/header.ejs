<!-- views/partials/header.ejs -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/stylesheets/busqueda.css"> 
<link rel="stylesheet" href="/stylesheets/header.css">
<script src="/javascript/busqueda.js" defer></script>
<script src="/javascript/theme.js" defer></script>
<script src="/javascript/idiomas.js" defer></script>


<header class="bg-white shadow-lg p-4 flex justify-between items-center">
    <!-- Logo -->
    <div class="flex items-center">
        <span class="texto-header text-2xl font-bold">FootLaces</span>
        <br>
        
    </div>
    <div class="idioma-selector relative">
      <button id="idioma-toggle" class="btn-idioma">
        <img id="idioma-actual" src="/images/espana.svg" alt="Idioma" width="24">
      </button>
      <div id="idioma-menu" class="idioma-menu">
        <div class="idioma-opcion" data-idioma="es">
          <img src="/images/espana.svg" alt="EspaÃ±ol" width="24"> EspaÃ±ol
        </div>
        <div class="idioma-opcion" data-idioma="en">
          <img src="/images/ingles.svg" alt="English" width="24"> English
        </div>
      </div>
    </div>
      
  <!-- BotÃ³n modo oscuro/claro CENTRADO -->
  <div class="icono-modo-oscuro">
    <div id="theme-icon" class="cursor-pointer" onclick="toggleTheme()"></div>
    </div>


      
      

   
    <button class="hamburguesa fixed-toggle" onclick="toggleMenu()">â˜°</button>
    <div class="menu-completo">

    <!-- NavegaciÃ³n -->
    <nav class="space-x-6 flex items-center">
      <a href="/" class="text-gray-700 hover:text-black traduccion" data-es="INICIO" data-en="HOME">INICIO</a>
      <a href="/sneakers" class="text-gray-700 hover:text-black traduccion" data-es="ZAPATOS" data-en="SNEAKERS">ZAPATOS</a>
      <a href="/clothing" class="text-gray-700 hover:text-black traduccion" data-es="ROPA" data-en="CLOTHING">ROPA</a>
      <a href="/ofertas" class="text-gray-700 hover:text-black traduccion" data-es="OFERTAS" data-en="OFFERS">OFERTAS</a>
      <a href="/wishlist" class="text-gray-700 hover:text-black traduccion" data-es="LISTA DE DESEOS" data-en="WISHLIST">LISTA DE DESEOS</a>
  </nav>

    <!-- Buscador -->
    <input id="buscador-global" type="text" class="input-busqueda traduccion" 
       placeholder="Buscar zapatillas..." 
       data-es="Buscar zapatillas..." data-en="Search sneakers..." />

    <!-- BotÃ³n carrito -->
    <button onclick="location.href='/carrito'" class="bg-gray-200 px-3 py-1 rounded-lg hover:bg-gray-300 traduccion" 
    data-es="ðŸ›’ Carrito" data-en="ðŸ›’ Cart">
    ðŸ›’ Carrito
</button>

<div class="flex items-center space-x-4">
  <% if (user) { %>
      <a href="/perfil" class="text-gray-700 hover:text-black traduccion" data-es="Bienvenido, <%= user.nombre %>!" data-en="Welcome, <%= user.nombre %>!">Bienvenido, <%= user.nombre %>!</a>
      <button onclick="location.href='/logout'" class="traduccion" data-es="Cerrar SesiÃ³n" data-en="Log Out">Cerrar SesiÃ³n</button>
  <% } else { %>
      <button onclick="location.href='/login'" class="traduccion" data-es="Iniciar SesiÃ³n" data-en="Login">Iniciar SesiÃ³n</button>
      <button onclick="location.href='/register'" class="traduccion" data-es="Registrarse" data-en="Register">Registrarse</button>
  <% } %>
</div>
</div>
</header>

<!-- Modal de bÃºsqueda FUERA del header -->
<div id="modal-busqueda" class="modal-busqueda hidden">
    <div class="modal-contenido">
        <span id="cerrar-modal">&times;</span>
        <div id="resultados-busqueda" class="resultados-grid"></div>
    </div>
</div>

<script>
  function toggleMenu() {
    document.querySelector(".menu-completo").classList.toggle("mostrar");
  }
</script>
